<!DOCTYPE html>
<html lang="en">
<head>
    <title>Product</title>
</head>
<body>
    <div class="container">
        <h2>Products</h2>
        <div>
                <span style="color: red;">{{message}}</span>
        </div>
    </div>

    <div class="container" [hidden]="!isSaved">
            <form name="frmProduct" [formGroup]="frmProduct" (submit)="save()">
                 <div class="form-group">
                    <label for="proId">Product Id</label>
                    <input type="text" name="ProductId" class="form-control" formControlName="ProductId" />
                </div>
        
                <div class="form-group">
                    <label for="proName">Product Name</label>
                    <input type="text" name="ProductName" class="form-control" formControlName="ProductName"/>
                </div>
        
                <div class="form-group">
                    <label for="proCat">Product Category</label>
                    <select class="form-control" name="CategoryName"  
                    formControlName="CategoryName">
                        <option *ngFor="let c of categories" value="{{c}}">{{c}}</option>
                    </select>
                </div>

                <div class="form-group">
                        <label for="proName">Manufacturer</label>
                        <input type="text" name="Manufacturer" class="form-control" formControlName="Manufacturer"/>
                    </div>
        
                <div class="form-group">
                    <label for="proPrice">Product Price</label>
                    <input type="text" name="Price" class="form-control" 
                    formControlName="Price"/>
    
                </div>
                <div class="form-group">
                    <input type="button" class="btn btn-success" value="New" (click)="clear()"/>
                    <input type="submit" class="btn btn-danger" [disabled]="!frmProduct.valid" value="Save"/>
                </div>
            </form>
        </div>

    <div class="container" [hidden]="isSaved">
        
        <input type="button" value="Add Product" (click)="loadForm();" class="btn btn-warning"/>
        
        <table class="table table-bordered table-striped"> 
            <thead>
                <tr>
                    <th>Product Id</th>
                    <th>Product Name</th>
                    <th>Category Name</th>
                    <th>Manufacturer</th>
                    <th>Price</th>
                    <th>Action</th>
                </tr>
            </thead>
            <tbody>
                <tr *ngFor="let p of products">
                    <td>{{p.ProductId}}</td>
                    <td>{{p.ProductName}}</td>
                    <td>{{p.CategoryName}}</td>
                    <td>{{p.Manufacturer}}</td>
                    <td>{{p.Price}}</td>
                    <td>
                        <input type="button" class="btn btn-success" value="Edit" (click)="update(p)"/>
                        <input type="button" class="btn btn-danger" value="Delete" (click)="delete(p.ProductId)"/>
                    </td>
                </tr>
            </tbody>
        </table>
    </div>
</body>
</html>